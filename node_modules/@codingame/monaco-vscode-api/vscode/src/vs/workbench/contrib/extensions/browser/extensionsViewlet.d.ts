import { IWorkbenchContribution } from "../../../common/contributions.js";
import { Disposable } from "../../../../base/common/lifecycle.js";
import { Dimension } from "../../../../base/browser/dom.js";
import { ITelemetryService } from "../../../../platform/telemetry/common/telemetry.service.js";
import { IInstantiationService } from "../../../../platform/instantiation/common/instantiation.js";
import { IExtensionService } from "../../../services/extensions/common/extensions.service.js";
import { IExtensionsViewPaneContainer } from "../common/extensions.js";
import { IExtensionsWorkbenchService } from "../common/extensions.service.js";
import { IExtensionManagementService } from "../../../../platform/extensionManagement/common/extensionManagement.service.js";
import { IWorkbenchExtensionEnablementService } from "../../../services/extensionManagement/common/extensionManagement.service.js";
import { IExtensionManagementServerService } from "../../../services/extensionManagement/common/extensionManagement.service.js";
import { IProgressService } from "../../../../platform/progress/common/progress.service.js";
import { IEditorGroupsService } from "../../../services/editor/common/editorGroupsService.service.js";
import { IActivityService } from "../../../services/activity/common/activity.service.js";
import { IThemeService } from "../../../../platform/theme/common/themeService.service.js";
import { IConfigurationService } from "../../../../platform/configuration/common/configuration.service.js";
import { IAddedViewDescriptorRef } from "../../../common/views.js";
import { IViewDescriptorService } from "../../../common/views.service.js";
import { IStorageService } from "../../../../platform/storage/common/storage.service.js";
import { IWorkspaceContextService } from "../../../../platform/workspace/common/workspace.service.js";
import { RawContextKey } from "../../../../platform/contextkey/common/contextkey.js";
import { IContextKeyService } from "../../../../platform/contextkey/common/contextkey.service.js";
import { IContextMenuService } from "../../../../platform/contextview/browser/contextView.service.js";
import { ILogService } from "../../../../platform/log/common/log.service.js";
import { INotificationService } from "../../../../platform/notification/common/notification.service.js";
import { IHostService } from "../../../services/host/browser/host.service.js";
import { IWorkbenchLayoutService } from "../../../services/layout/browser/layoutService.service.js";
import { ViewPaneContainer } from "../../../browser/parts/views/viewPaneContainer.js";
import { ViewPane } from "../../../browser/parts/views/viewPane.js";
import { ILabelService } from "../../../../platform/label/common/label.service.js";
import { IPreferencesService } from "../../../services/preferences/common/preferences.service.js";
import { ICommandService } from "../../../../platform/commands/common/commands.service.js";
import { IPaneCompositePartService } from "../../../services/panecomposite/browser/panecomposite.service.js";
import { IExtensionGalleryManifestService } from "../../../../platform/extensionManagement/common/extensionGalleryManifest.service.js";
import { IHoverService } from "../../../../platform/hover/browser/hover.service.js";
export declare const ExtensionsSortByContext: RawContextKey<string>;
export declare const SearchMarketplaceExtensionsContext: RawContextKey<boolean>;
export declare const SearchHasTextContext: RawContextKey<boolean>;
export declare const BuiltInExtensionsContext: RawContextKey<boolean>;
export declare const RecommendedExtensionsContext: RawContextKey<boolean>;
export declare const ExtensionsSearchValueContext: RawContextKey<string>;
interface IExtensionsViewletState {
    "query.value"?: string;
}
export declare class ExtensionsViewletViewsContribution extends Disposable implements IWorkbenchContribution {
    private readonly extensionManagementServerService;
    private readonly labelService;
    private readonly contextKeyService;
    private readonly container;
    constructor(extensionManagementServerService: IExtensionManagementServerService, labelService: ILabelService, viewDescriptorService: IViewDescriptorService, contextKeyService: IContextKeyService);
    private registerViews;
    private createDefaultExtensionsViewDescriptors;
    private createSearchExtensionsViewDescriptors;
    private createRecommendedExtensionsViewDescriptors;
    private createBuiltinExtensionsViewDescriptors;
    private createUnsupportedWorkspaceExtensionsViewDescriptors;
    private createOtherLocalFilteredExtensionsViewDescriptors;
}
export declare class ExtensionsViewPaneContainer extends ViewPaneContainer<IExtensionsViewletState> implements IExtensionsViewPaneContainer {
    private readonly progressService;
    private readonly editorGroupService;
    private readonly extensionsWorkbenchService;
    private readonly extensionManagementServerService;
    private readonly notificationService;
    private readonly paneCompositeService;
    private readonly contextKeyService;
    private readonly preferencesService;
    private readonly commandService;
    private readonly hoverService;
    private readonly extensionsSearchValueContextKey;
    private readonly defaultViewsContextKey;
    private readonly sortByContextKey;
    private readonly searchMarketplaceExtensionsContextKey;
    private readonly searchMcpServersContextKey;
    private readonly searchHasTextContextKey;
    private readonly sortByUpdateDateContextKey;
    private readonly installedExtensionsContextKey;
    private readonly searchInstalledExtensionsContextKey;
    private readonly searchRecentlyUpdatedExtensionsContextKey;
    private readonly searchExtensionUpdatesContextKey;
    private readonly searchOutdatedExtensionsContextKey;
    private readonly searchEnabledExtensionsContextKey;
    private readonly searchDisabledExtensionsContextKey;
    private readonly hasInstalledExtensionsContextKey;
    private readonly builtInExtensionsContextKey;
    private readonly searchBuiltInExtensionsContextKey;
    private readonly searchWorkspaceUnsupportedExtensionsContextKey;
    private readonly searchDeprecatedExtensionsContextKey;
    private readonly recommendedExtensionsContextKey;
    private searchDelayer;
    private root;
    private header;
    private searchBox;
    private notificationContainer;
    private readonly searchViewletState;
    private extensionGalleryManifest;
    constructor(layoutService: IWorkbenchLayoutService, telemetryService: ITelemetryService, progressService: IProgressService, instantiationService: IInstantiationService, editorGroupService: IEditorGroupsService, extensionGalleryManifestService: IExtensionGalleryManifestService, extensionsWorkbenchService: IExtensionsWorkbenchService, extensionManagementServerService: IExtensionManagementServerService, notificationService: INotificationService, paneCompositeService: IPaneCompositePartService, themeService: IThemeService, configurationService: IConfigurationService, storageService: IStorageService, contextService: IWorkspaceContextService, contextKeyService: IContextKeyService, contextMenuService: IContextMenuService, extensionService: IExtensionService, viewDescriptorService: IViewDescriptorService, preferencesService: IPreferencesService, commandService: ICommandService, logService: ILogService, hoverService: IHoverService);
    get searchValue(): string | undefined;
    create(parent: HTMLElement): void;
    focus(): void;
    private _dimension;
    layout(dimension: Dimension): void;
    getOptimalWidth(): number;
    search(value: string): void;
    refresh(): Promise<void>;
    private readonly notificationDisposables;
    private renderNotificaiton;
    private updateInstalledExtensionsContexts;
    private triggerSearch;
    private normalizedQuery;
    protected saveState(): void;
    private doSearch;
    protected onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[];
    private showExtensionsViews;
    private alertSearchResult;
    private getFirstExpandedPane;
    private focusListView;
    private onViewletOpen;
    private progress;
    private onError;
    private isSupportedDragElement;
}
export declare class StatusUpdater extends Disposable implements IWorkbenchContribution {
    private readonly activityService;
    private readonly extensionsWorkbenchService;
    private readonly extensionEnablementService;
    private readonly configurationService;
    private readonly badgeHandle;
    constructor(activityService: IActivityService, extensionsWorkbenchService: IExtensionsWorkbenchService, extensionEnablementService: IWorkbenchExtensionEnablementService, configurationService: IConfigurationService);
    private onServiceChange;
}
export declare class MaliciousExtensionChecker implements IWorkbenchContribution {
    private readonly extensionsManagementService;
    private readonly extensionsWorkbenchService;
    private readonly hostService;
    private readonly logService;
    private readonly notificationService;
    private readonly commandService;
    constructor(extensionsManagementService: IExtensionManagementService, extensionsWorkbenchService: IExtensionsWorkbenchService, hostService: IHostService, logService: ILogService, notificationService: INotificationService, commandService: ICommandService);
    private loopCheckForMaliciousExtensions;
    private checkForMaliciousExtensions;
}
export declare class ExtensionMarketplaceStatusUpdater extends Disposable implements IWorkbenchContribution {
    private readonly activityService;
    private readonly extensionGalleryManifestService;
    private readonly badgeHandle;
    private readonly accountBadgeDisposable;
    constructor(activityService: IActivityService, extensionGalleryManifestService: IExtensionGalleryManifestService);
    private updateBadge;
}
export {};
