import { CancellationToken } from "../../../../../base/common/cancellation.js";
import { Event } from "../../../../../base/common/event.js";
import { IObservable } from "../../../../../base/common/observable.js";
import { URI } from "../../../../../base/common/uri.js";
import { ChatAgentLocation } from "../constants.js";
import { IChatEditingSession } from "../editing/chatEditingService.js";
import { IChatModel, IExportableChatData, ISerializableChatData, IChatRequestModel, IChatRequestVariableData } from "../model/chatModel.js";
import { IParsedChatRequest } from "../requestParser/chatParserTypes.js";
import { IChatSessionStartOptions, IChatModelReference, IChatSessionContext, IChatSendRequestOptions, IChatSendRequestData, IChatProgress, IChatCompleteResponse, IChatDetail, IChatUserActionEvent } from "./chatService.js";
export declare const IChatService: import("../../../../../platform/instantiation/common/instantiation.js").ServiceIdentifier<IChatService>;
export interface IChatService {
    _serviceBrand: undefined;
    transferredSessionResource: URI | undefined;
    readonly onDidSubmitRequest: Event<{
        readonly chatSessionResource: URI;
    }>;
    /**
    * An observable containing all live chat models.
    */
    readonly chatModels: IObservable<Iterable<IChatModel>>;
    isEnabled(location: ChatAgentLocation): boolean;
    hasSessions(): boolean;
    startSession(location: ChatAgentLocation, options?: IChatSessionStartOptions): IChatModelReference;
    /**
    * Get an active session without holding a reference to it.
    */
    getSession(sessionResource: URI): IChatModel | undefined;
    /**
    * Acquire a reference to an active session.
    */
    getActiveSessionReference(sessionResource: URI): IChatModelReference | undefined;
    getOrRestoreSession(sessionResource: URI): Promise<IChatModelReference | undefined>;
    getSessionTitle(sessionResource: URI): string | undefined;
    loadSessionFromContent(data: IExportableChatData | ISerializableChatData | URI): IChatModelReference | undefined;
    loadSessionForResource(resource: URI, location: ChatAgentLocation, token: CancellationToken): Promise<IChatModelReference | undefined>;
    readonly editingSessions: IChatEditingSession[];
    getChatSessionFromInternalUri(sessionResource: URI): IChatSessionContext | undefined;
    /**
    * Returns whether the request was accepted.`
    */
    sendRequest(sessionResource: URI, message: string, options?: IChatSendRequestOptions): Promise<IChatSendRequestData | undefined>;
    /**
    * Sets a custom title for a chat model.
    */
    setTitle(sessionResource: URI, title: string): void;
    appendProgress(request: IChatRequestModel, progress: IChatProgress): void;
    resendRequest(request: IChatRequestModel, options?: IChatSendRequestOptions): Promise<void>;
    adoptRequest(sessionResource: URI, request: IChatRequestModel): Promise<void>;
    removeRequest(sessionResource: URI, requestId: string): Promise<void>;
    cancelCurrentRequestForSession(sessionResource: URI): void;
    addCompleteRequest(sessionResource: URI, message: IParsedChatRequest | string, variableData: IChatRequestVariableData | undefined, attempt: number | undefined, response: IChatCompleteResponse): void;
    setChatSessionTitle(sessionResource: URI, title: string): void;
    getLocalSessionHistory(): Promise<IChatDetail[]>;
    clearAllHistoryEntries(): Promise<void>;
    removeHistoryEntry(sessionResource: URI): Promise<void>;
    getChatStorageFolder(): URI;
    logChatIndex(): void;
    getLiveSessionItems(): Promise<IChatDetail[]>;
    getHistorySessionItems(): Promise<IChatDetail[]>;
    getMetadataForSession(sessionResource: URI): Promise<IChatDetail | undefined>;
    readonly onDidPerformUserAction: Event<IChatUserActionEvent>;
    notifyUserAction(event: IChatUserActionEvent): void;
    readonly onDidDisposeSession: Event<{
        readonly sessionResource: URI[];
        readonly reason: "cleared";
    }>;
    transferChatSession(transferredSessionResource: URI, toWorkspace: URI): Promise<void>;
    activateDefaultAgent(location: ChatAgentLocation): Promise<void>;
    readonly edits2Enabled: boolean;
    readonly requestInProgressObs: IObservable<boolean>;
    /**
    * For tests only!
    */
    setSaveModelsEnabled(enabled: boolean): void;
    /**
    * For tests only!
    */
    waitForModelDisposals(): Promise<void>;
}
