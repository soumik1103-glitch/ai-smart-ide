
import { localize } from '../../../../../nls.js';
import { RawContextKey, ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';
import { IsWebContext } from '../../../../../platform/contextkey/common/contextkeys.js';
import { RemoteNameContext } from '../../../../common/contextkeys.js';
import { ChatEntitlementContextKeys } from '../../../../services/chat/common/chatEntitlementService.js';
import { ChatModeKind } from '../constants.js';

var ChatContextKeys;
(function (ChatContextKeys) {
    ChatContextKeys.responseVote = ( new RawContextKey(
        'chatSessionResponseVote',
        '',
        { type: 'string', description: ( localize(
            5880,
            "When the response has been voted up, is set to 'up'. When voted down, is set to 'down'. Otherwise an empty string."
        )) }
    ));
    ChatContextKeys.responseDetectedAgentCommand = ( new RawContextKey(
        'chatSessionResponseDetectedAgentOrCommand',
        false,
        { type: 'boolean', description: ( localize(5881, "When the agent or command was automatically detected")) }
    ));
    ChatContextKeys.responseSupportsIssueReporting = ( new RawContextKey(
        'chatResponseSupportsIssueReporting',
        false,
        { type: 'boolean', description: ( localize(5882, "True when the current chat response supports issue reporting.")) }
    ));
    ChatContextKeys.responseIsFiltered = ( new RawContextKey(
        'chatSessionResponseFiltered',
        false,
        { type: 'boolean', description: ( localize(5883, "True when the chat response was filtered out by the server.")) }
    ));
    ChatContextKeys.responseHasError = ( new RawContextKey(
        'chatSessionResponseError',
        false,
        { type: 'boolean', description: ( localize(5884, "True when the chat response resulted in an error.")) }
    ));
    ChatContextKeys.requestInProgress = ( new RawContextKey(
        'chatSessionRequestInProgress',
        false,
        { type: 'boolean', description: ( localize(5885, "True when the current request is still in progress.")) }
    ));
    ChatContextKeys.currentlyEditing = ( new RawContextKey(
        'chatSessionCurrentlyEditing',
        false,
        { type: 'boolean', description: ( localize(5886, "True when the current request is being edited.")) }
    ));
    ChatContextKeys.currentlyEditingInput = ( new RawContextKey(
        'chatSessionCurrentlyEditingInput',
        false,
        { type: 'boolean', description: ( localize(5887, "True when the current request input at the bottom is being edited.")) }
    ));
    ChatContextKeys.isResponse = ( new RawContextKey('chatResponse', false, { type: 'boolean', description: ( localize(5888, "The chat item is a response.")) }));
    ChatContextKeys.isRequest = ( new RawContextKey('chatRequest', false, { type: 'boolean', description: ( localize(5889, "The chat item is a request")) }));
    ChatContextKeys.itemId = ( new RawContextKey('chatItemId', '', { type: 'string', description: ( localize(5890, "The id of the chat item.")) }));
    ChatContextKeys.lastItemId = ( new RawContextKey('chatLastItemId', [], { type: 'string', description: ( localize(5891, "The id of the last chat item.")) }));
    ChatContextKeys.editApplied = ( new RawContextKey('chatEditApplied', false, { type: 'boolean', description: ( localize(5892, "True when the chat text edits have been applied.")) }));
    ChatContextKeys.inputHasText = ( new RawContextKey('chatInputHasText', false, { type: 'boolean', description: ( localize(5893, "True when the chat input has text.")) }));
    ChatContextKeys.inputHasFocus = ( new RawContextKey('chatInputHasFocus', false, { type: 'boolean', description: ( localize(5894, "True when the chat input has focus.")) }));
    ChatContextKeys.inChatInput = ( new RawContextKey('inChatInput', false, { type: 'boolean', description: ( localize(5895, "True when focus is in the chat input, false otherwise.")) }));
    ChatContextKeys.inChatSession = ( new RawContextKey('inChat', false, { type: 'boolean', description: ( localize(5896, "True when focus is in the chat widget, false otherwise.")) }));
    ChatContextKeys.inChatEditor = ( new RawContextKey('inChatEditor', false, { type: 'boolean', description: ( localize(5897, "Whether focus is in a chat editor.")) }));
    ChatContextKeys.inChatTerminalToolOutput = ( new RawContextKey(
        'inChatTerminalToolOutput',
        false,
        { type: 'boolean', description: ( localize(5898, "True when focus is in the chat terminal output region.")) }
    ));
    ChatContextKeys.chatModeKind = ( new RawContextKey(
        'chatAgentKind',
        ChatModeKind.Ask,
        { type: 'string', description: ( localize(5899, "The 'kind' of the current agent.")) }
    ));
    ChatContextKeys.chatToolCount = ( new RawContextKey('chatToolCount', 0, { type: 'number', description: ( localize(5900, "The number of tools available in the current agent.")) }));
    ChatContextKeys.chatToolGroupingThreshold = ( new RawContextKey(
        'chat.toolGroupingThreshold',
        0,
        { type: 'number', description: ( localize(5901, "The number of tools at which we start doing virtual grouping.")) }
    ));
    ChatContextKeys.supported = ( ContextKeyExpr.or(( IsWebContext.negate()), ( RemoteNameContext.notEqualsTo('')), ( ContextKeyExpr.has('config.chat.experimental.serverlessWebEnabled'))));
    ChatContextKeys.enabled = ( new RawContextKey('chatIsEnabled', false, { type: 'boolean', description: ( localize(
        5902,
        "True when chat is enabled because a default chat participant is activated with an implementation."
    )) }));
    ChatContextKeys.lockedToCodingAgent = ( new RawContextKey(
        'lockedToCodingAgent',
        false,
        { type: 'boolean', description: ( localize(5903, "True when the chat widget is locked to the coding agent session.")) }
    ));
    ChatContextKeys.agentSupportsAttachments = ( new RawContextKey(
        'agentSupportsAttachments',
        false,
        { type: 'boolean', description: ( localize(5904, "True when the chat agent supports attachments.")) }
    ));
    ChatContextKeys.withinEditSessionDiff = ( new RawContextKey(
        'withinEditSessionDiff',
        false,
        { type: 'boolean', description: ( localize(5905, "True when the chat widget dispatches to the edit session chat.")) }
    ));
    ChatContextKeys.filePartOfEditSession = ( new RawContextKey(
        'filePartOfEditSession',
        false,
        { type: 'boolean', description: ( localize(5906, "True when the chat widget is within a file with an edit session.")) }
    ));
    ChatContextKeys.extensionParticipantRegistered = ( new RawContextKey(
        'chatPanelExtensionParticipantRegistered',
        false,
        { type: 'boolean', description: ( localize(
            5907,
            "True when a default chat participant is registered for the panel from an extension."
        )) }
    ));
    ChatContextKeys.panelParticipantRegistered = ( new RawContextKey(
        'chatPanelParticipantRegistered',
        false,
        { type: 'boolean', description: ( localize(5908, "True when a default chat participant is registered for the panel.")) }
    ));
    ChatContextKeys.chatEditingCanUndo = ( new RawContextKey(
        'chatEditingCanUndo',
        false,
        { type: 'boolean', description: ( localize(
            5909,
            "True when it is possible to undo an interaction in the editing panel."
        )) }
    ));
    ChatContextKeys.chatEditingCanRedo = ( new RawContextKey(
        'chatEditingCanRedo',
        false,
        { type: 'boolean', description: ( localize(
            5910,
            "True when it is possible to redo an interaction in the editing panel."
        )) }
    ));
    ChatContextKeys.languageModelsAreUserSelectable = ( new RawContextKey(
        'chatModelsAreUserSelectable',
        false,
        { type: 'boolean', description: ( localize(5911, "True when the chat model can be selected manually by the user.")) }
    ));
    ChatContextKeys.chatSessionHasModels = ( new RawContextKey(
        'chatSessionHasModels',
        false,
        { type: 'boolean', description: ( localize(
            5912,
            "True when the chat is in a contributed chat session that has available 'models' to display."
        )) }
    ));
    ChatContextKeys.extensionInvalid = ( new RawContextKey(
        'chatExtensionInvalid',
        false,
        { type: 'boolean', description: ( localize(
            5913,
            "True when the installed chat extension is invalid and needs to be updated."
        )) }
    ));
    ChatContextKeys.inputCursorAtTop = ( new RawContextKey('chatCursorAtTop', false));
    ChatContextKeys.inputHasAgent = ( new RawContextKey('chatInputHasAgent', false));
    ChatContextKeys.location = ( new RawContextKey('chatLocation', undefined));
    ChatContextKeys.inQuickChat = ( new RawContextKey('quickChatHasFocus', false, { type: 'boolean', description: ( localize(5914, "True when the quick chat UI has focus, false otherwise.")) }));
    ChatContextKeys.hasFileAttachments = ( new RawContextKey(
        'chatHasFileAttachments',
        false,
        { type: 'boolean', description: ( localize(5915, "True when the chat has file attachments.")) }
    ));
    ChatContextKeys.chatSessionIsEmpty = ( new RawContextKey('chatSessionIsEmpty', true, { type: 'boolean', description: ( localize(5916, "True when the current chat session has no requests.")) }));
    ChatContextKeys.remoteJobCreating = ( new RawContextKey(
        'chatRemoteJobCreating',
        false,
        { type: 'boolean', description: ( localize(5917, "True when a remote coding agent job is being created.")) }
    ));
    ChatContextKeys.hasRemoteCodingAgent = ( new RawContextKey('hasRemoteCodingAgent', false, ( localize(5918, "Whether any remote coding agent is available"))));
    ChatContextKeys.hasCanDelegateProviders = ( new RawContextKey(
        'chatHasCanDelegateProviders',
        false,
        { type: 'boolean', description: ( localize(
            5919,
            "True when there are chat session providers with delegation support available."
        )) }
    ));
    ChatContextKeys.enableRemoteCodingAgentPromptFileOverlay = ( new RawContextKey('enableRemoteCodingAgentPromptFileOverlay', false, ( localize(
        5920,
        "Whether the remote coding agent prompt file overlay feature is enabled"
    ))));
    ChatContextKeys.skipChatRequestInProgressMessage = ( new RawContextKey(
        'chatSkipRequestInProgressMessage',
        false,
        { type: 'boolean', description: ( localize(5921, "True when the chat request in progress message should be skipped.")) }
    ));
    ChatContextKeys.Setup = ChatEntitlementContextKeys.Setup;
    ChatContextKeys.Entitlement = ChatEntitlementContextKeys.Entitlement;
    ChatContextKeys.chatQuotaExceeded = ChatEntitlementContextKeys.chatQuotaExceeded;
    ChatContextKeys.completionsQuotaExceeded = ChatEntitlementContextKeys.completionsQuotaExceeded;
    ChatContextKeys.Editing = {
        hasToolConfirmation: ( new RawContextKey(
            'chatHasToolConfirmation',
            false,
            { type: 'boolean', description: ( localize(5922, "True when a tool confirmation is present.")) }
        )),
        hasElicitationRequest: ( new RawContextKey(
            'chatHasElicitationRequest',
            false,
            { type: 'boolean', description: ( localize(5923, "True when a chat elicitation request is pending.")) }
        )),
    };
    ChatContextKeys.Tools = {
        toolsCount: ( new RawContextKey('toolsCount', 0, { type: 'number', description: ( localize(5924, "The count of tools available in the chat.")) }))
    };
    ChatContextKeys.Modes = {
        hasCustomChatModes: ( new RawContextKey(
            'chatHasCustomAgents',
            false,
            { type: 'boolean', description: ( localize(5925, "True when the chat has custom agents available.")) }
        )),
        agentModeDisabledByPolicy: ( new RawContextKey(
            'chatAgentModeDisabledByPolicy',
            false,
            { type: 'boolean', description: ( localize(5926, "True when agent mode is disabled by organization policy.")) }
        )),
    };
    ChatContextKeys.panelLocation = ( new RawContextKey(
        'chatPanelLocation',
        undefined,
        { type: 'number', description: ( localize(5927, "The location of the chat panel.")) }
    ));
    ChatContextKeys.agentSessionsViewerFocused = ( new RawContextKey(
        'agentSessionsViewerFocused',
        true,
        { type: 'boolean', description: ( localize(5928, "If the agent sessions view in the chat view is focused.")) }
    ));
    ChatContextKeys.agentSessionsViewerLimited = ( new RawContextKey(
        'agentSessionsViewerLimited',
        undefined,
        { type: 'boolean', description: ( localize(
            5929,
            "If the agent sessions view in the chat view is limited to show recent sessions only."
        )) }
    ));
    ChatContextKeys.agentSessionsViewerOrientation = ( new RawContextKey(
        'agentSessionsViewerOrientation',
        undefined,
        { type: 'number', description: ( localize(5930, "Orientation of the agent sessions view in the chat view.")) }
    ));
    ChatContextKeys.agentSessionsViewerPosition = ( new RawContextKey(
        'agentSessionsViewerPosition',
        undefined,
        { type: 'number', description: ( localize(5931, "Position of the agent sessions view in the chat view.")) }
    ));
    ChatContextKeys.agentSessionsViewerVisible = ( new RawContextKey(
        'agentSessionsViewerVisible',
        undefined,
        { type: 'boolean', description: ( localize(5932, "Visibility of the agent sessions view in the chat view.")) }
    ));
    ChatContextKeys.agentSessionType = ( new RawContextKey('chatSessionType', '', { type: 'string', description: ( localize(5933, "The type of the current agent session item.")) }));
    ChatContextKeys.agentSessionSection = ( new RawContextKey('agentSessionSection', '', { type: 'string', description: ( localize(5934, "The section of the current agent session section item.")) }));
    ChatContextKeys.isArchivedAgentSession = ( new RawContextKey(
        'agentSessionIsArchived',
        false,
        { type: 'boolean', description: ( localize(5935, "True when the agent session item is archived.")) }
    ));
    ChatContextKeys.isReadAgentSession = ( new RawContextKey(
        'agentSessionIsRead',
        false,
        { type: 'boolean', description: ( localize(5936, "True when the agent session item is read.")) }
    ));
    ChatContextKeys.hasAgentSessionChanges = ( new RawContextKey(
        'agentSessionHasChanges',
        false,
        { type: 'boolean', description: ( localize(5937, "True when the current agent session item has changes.")) }
    ));
    ChatContextKeys.isKatexMathElement = ( new RawContextKey(
        'chatIsKatexMathElement',
        false,
        { type: 'boolean', description: ( localize(5938, "True when focusing a KaTeX math element.")) }
    ));
})(ChatContextKeys || (ChatContextKeys = {}));
var ChatContextKeyExprs;
(function (ChatContextKeyExprs) {
    ChatContextKeyExprs.inEditingMode = ( ContextKeyExpr.or(( ChatContextKeys.chatModeKind.isEqualTo(ChatModeKind.Edit)), ( ChatContextKeys.chatModeKind.isEqualTo(ChatModeKind.Agent))));
    ChatContextKeyExprs.chatSetupTriggerContext = ( ContextKeyExpr.or(( ChatContextKeys.Setup.installed.negate()), ChatContextKeys.Entitlement.canSignUp));
})(ChatContextKeyExprs || (ChatContextKeyExprs = {}));

export { ChatContextKeyExprs, ChatContextKeys };
