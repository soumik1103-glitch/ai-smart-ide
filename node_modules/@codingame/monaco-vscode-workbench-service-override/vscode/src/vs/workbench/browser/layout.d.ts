import { IDimension } from "@codingame/monaco-vscode-api/vscode/vs/base/browser/dom";
import { Direction, IViewSize } from "@codingame/monaco-vscode-api/vscode/vs/base/browser/ui/grid/grid";
import { CodeWindow } from "@codingame/monaco-vscode-api/vscode/vs/base/browser/window";
import { Event } from "@codingame/monaco-vscode-api/vscode/vs/base/common/event";
import { Disposable, DisposableMap, DisposableStore, IDisposable } from "@codingame/monaco-vscode-api/vscode/vs/base/common/lifecycle";
import { IInstantiationService, ServicesAccessor } from "@codingame/monaco-vscode-api/vscode/vs/platform/instantiation/common/instantiation";
import { IPath } from "@codingame/monaco-vscode-api/vscode/vs/platform/window/common/window";
import { IUntypedEditorInput } from "@codingame/monaco-vscode-api/vscode/vs/workbench/common/editor";
import { EditorGroupLayout } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/editor/common/editorGroupsService";
import { MULTI_WINDOW_PARTS, PanelAlignment, Parts, Position, SINGLE_WINDOW_PARTS } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/layout/browser/layoutService";
import { IWorkbenchLayoutService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/layout/browser/layoutService.service";
import { Part } from "@codingame/monaco-vscode-api/vscode/vs/workbench/browser/part";
export interface ILayoutRuntimeState {
    activeContainerId: number;
    mainWindowFullscreen: boolean;
    readonly maximized: Set<number>;
    hasFocus: boolean;
    mainWindowBorder: boolean;
    readonly menuBar: {
        toggled: boolean;
    };
    readonly zenMode: {
        readonly transitionDisposables: DisposableMap<string, IDisposable>;
    };
}
export interface IEditorToOpen {
    readonly editor: IUntypedEditorInput;
    readonly viewColumn?: number;
}
export interface ILayoutInitializationState {
    readonly views: {
        readonly defaults: string[] | undefined;
        readonly containerToRestore: {
            sideBar?: string;
            panel?: string;
            auxiliaryBar?: string;
        };
    };
    readonly editor: {
        readonly restoreEditors: boolean;
        readonly editorsToOpen: Promise<IEditorToOpen[]>;
    };
    readonly layout?: {
        readonly editors?: EditorGroupLayout;
    };
}
export interface IPathToOpen extends IPath {
    readonly viewColumn?: number;
}
export interface IInitialEditorsState {
    readonly filesToOpenOrCreate?: IPathToOpen[];
    readonly filesToDiff?: IPathToOpen[];
    readonly filesToMerge?: IPathToOpen[];
    readonly layout?: EditorGroupLayout;
}
export declare const TITLE_BAR_SETTINGS: string[];
export declare abstract class Layout extends Disposable implements IWorkbenchLayoutService {
    protected readonly parent: HTMLElement;
    private readonly layoutOptions?;
    readonly _serviceBrand: undefined;
    private readonly _onDidChangeZenMode;
    readonly onDidChangeZenMode: Event<boolean>;
    private readonly _onDidChangeMainEditorCenteredLayout;
    readonly onDidChangeMainEditorCenteredLayout: Event<boolean>;
    private readonly _onDidChangePanelAlignment;
    readonly onDidChangePanelAlignment: Event<PanelAlignment>;
    private readonly _onDidChangeWindowMaximized;
    readonly onDidChangeWindowMaximized: Event<{
        windowId: number;
        maximized: boolean;
    }>;
    private readonly _onDidChangePanelPosition;
    readonly onDidChangePanelPosition: Event<string>;
    private readonly _onDidChangePartVisibility;
    readonly onDidChangePartVisibility: Event<void>;
    private readonly _onDidChangeNotificationsVisibility;
    readonly onDidChangeNotificationsVisibility: Event<boolean>;
    private readonly _onDidChangeAuxiliaryBarMaximized;
    readonly onDidChangeAuxiliaryBarMaximized: Event<void>;
    private readonly _onDidLayoutMainContainer;
    readonly onDidLayoutMainContainer: Event<IDimension>;
    private readonly _onDidLayoutActiveContainer;
    readonly onDidLayoutActiveContainer: Event<IDimension>;
    private readonly _onDidLayoutContainer;
    readonly onDidLayoutContainer: Event<{
        container: HTMLElement;
        dimension: IDimension;
    }>;
    private readonly _onDidAddContainer;
    readonly onDidAddContainer: Event<{
        container: HTMLElement;
        disposables: DisposableStore;
    }>;
    private readonly _onDidChangeActiveContainer;
    readonly onDidChangeActiveContainer: Event<void>;
    readonly mainContainer: HTMLDivElement;
    get activeContainer(): HTMLElement;
    get containers(): Iterable<HTMLElement>;
    private getContainerFromDocument;
    private readonly containerStylesLoaded;
    whenContainerStylesLoaded(window: CodeWindow): Promise<void> | undefined;
    private _mainContainerDimension;
    get mainContainerDimension(): IDimension;
    get activeContainerDimension(): IDimension;
    private getContainerDimension;
    get mainContainerOffset(): {
        top: number;
        quickPickTop: number;
    };
    get activeContainerOffset(): {
        top: number;
        quickPickTop: number;
    };
    private computeContainerOffset;
    private readonly parts;
    private initialized;
    private workbenchGrid;
    private titleBarPartView;
    private bannerPartView;
    private activityBarPartView;
    private sideBarPartView;
    private panelPartView;
    private auxiliaryBarPartView;
    private editorPartView;
    private statusBarPartView;
    private environmentService;
    private extensionService;
    private configurationService;
    private storageService;
    private hostService;
    private editorService;
    private mainPartEditorService;
    private editorGroupService;
    private paneCompositeService;
    private titleService;
    private viewDescriptorService;
    private contextService;
    private notificationService;
    private themeService;
    private statusBarService;
    private logService;
    private telemetryService;
    private auxiliaryWindowService;
    private state;
    private stateModel;
    private disposed;
    constructor(parent: HTMLElement, layoutOptions?: {
        resetLayout?: boolean;
        customEditorRestore?: (accessor: ServicesAccessor, defaultLayout: boolean) => Promise<void>;
    } | undefined);
    protected initLayout(accessor: ServicesAccessor): void;
    private registerLayoutListeners;
    private onMenubarToggled;
    private handleContainerDidLayout;
    private onFullscreenChanged;
    private onActiveWindowChanged;
    private onWindowFocusChanged;
    private getActiveContainerId;
    private doUpdateLayoutConfiguration;
    private setSideBarPosition;
    private updateWindowBorder;
    private initLayoutState;
    private getDefaultLayoutViews;
    private shouldRestoreEditors;
    protected willRestoreEditors(): boolean;
    private resolveEditorsToOpen;
    private _openedDefaultEditors;
    get openedDefaultEditors(): boolean;
    private getInitialEditorsState;
    private readonly whenReadyPromise;
    protected readonly whenReady: Promise<void>;
    private readonly whenRestoredPromise;
    readonly whenRestored: Promise<void>;
    private restored;
    isRestored(): boolean;
    protected restoreParts(instantiationService: IInstantiationService): void;
    private openViewContainer;
    registerPart(part: Part): IDisposable;
    protected getPart(key: Parts): Part;
    registerNotifications(delegate: {
        onDidChangeNotificationsVisibility: Event<boolean>;
    }): void;
    hasFocus(part: Parts): boolean;
    private _getFocusedPart;
    focusPart(part: MULTI_WINDOW_PARTS, targetWindow: Window): void;
    focusPart(part: SINGLE_WINDOW_PARTS): void;
    getContainer(targetWindow: Window): HTMLElement;
    getContainer(targetWindow: Window, part: Parts): HTMLElement | undefined;
    isVisible(part: MULTI_WINDOW_PARTS, targetWindow: Window): boolean;
    isVisible(part: SINGLE_WINDOW_PARTS): boolean;
    isVisible(part: Parts, targetWindow?: Window): boolean;
    private shouldShowBannerFirst;
    focus(): void;
    private focusPanelOrEditor;
    getMaximumEditorDimensions(container: HTMLElement): IDimension;
    private isZenModeActive;
    private setZenModeActive;
    toggleZenMode(skipLayout?: boolean, restoring?: boolean): void;
    private setStatusBarHidden;
    protected createWorkbenchLayout(): void;
    layout(): void;
    isMainEditorLayoutCentered(): boolean;
    centerMainEditorLayout(active: boolean, skipLayout?: boolean): void;
    getSize(part: Parts): IViewSize;
    setSize(part: Parts, size: IViewSize): void;
    resizePart(part: Parts, sizeChangeWidth: number, sizeChangeHeight: number): void;
    private setActivityBarHidden;
    private setBannerHidden;
    private setEditorHidden;
    getLayoutClasses(): string[];
    private setSideBarHidden;
    private hasViews;
    private adjustPartPositions;
    setPanelAlignment(alignment: PanelAlignment): void;
    private setPanelHidden;
    private inMaximizedAuxiliaryBarTransition;
    isAuxiliaryBarMaximized(): boolean;
    toggleMaximizedAuxiliaryBar(): void;
    setAuxiliaryBarMaximized(maximized: boolean): boolean;
    isPanelMaximized(): boolean;
    toggleMaximizedPanel(): void;
    private panelOpensMaximized;
    private setAuxiliaryBarHidden;
    setPartHidden(hidden: boolean, part: Parts): void;
    hasMainWindowBorder(): boolean;
    getMainWindowBorderRadius(): string | undefined;
    getSideBarPosition(): Position;
    getPanelAlignment(): PanelAlignment;
    updateMenubarVisibility(skipLayout: boolean): void;
    updateCustomTitleBarVisibility(): void;
    toggleMenuBar(): void;
    getPanelPosition(): Position;
    setPanelPosition(position: Position): void;
    isWindowMaximized(targetWindow: Window): boolean;
    updateWindowMaximizedState(targetWindow: Window, maximized: boolean): void;
    getVisibleNeighborPart(part: Parts, direction: Direction): Parts | undefined;
    private onDidChangeWCO;
    private arrangeEditorNodes;
    private arrangeMiddleSectionNodes;
    private createGridDescriptor;
    dispose(): void;
}
